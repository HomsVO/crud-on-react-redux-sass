(this["webpackJsonpcurd-on-react-redux-sass"]=this["webpackJsonpcurd-on-react-redux-sass"]||[]).push([[0],{40:function(e,t,a){e.exports=a(72)},45:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(19),c=a.n(r),l=(a(45),a(13)),i=a(5);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=function(){return o.a.createElement("header",null,o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark  bg-dark "},o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(l.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/"},"Books")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(l.c,{className:"nav-link",activeClassName:"active",exact:!0,to:"/add"},"Add"))))))},u=a(14),m=a(2),d=a.n(m),b=a(10),f=a(16),h=a.n(f),p=function(e){return{type:"SET_BOOKS",payload:e}},E=function(e){return{type:"SET_BOOKS_LOADING",payload:e}},v=function(e){var t=e.book,a=Object(i.b)();return o.a.createElement("div",{className:"book mb-3"},o.a.createElement("p",{className:"book__author"},t.author),o.a.createElement("p",{className:"book__title"},t.title),o.a.createElement("input",{type:"checkbox",hidden:!0,id:t._id,checked:t.completed,onChange:function(e){var n;a((n={completed:!t.completed,_id:t._id},function(e){h.a.post("/api/book/complete",n).then((function(t){e(p(t.data))})).catch((function(e){return console.log(e)}))}))},className:"book__completed"}),o.a.createElement("label",{htmlFor:t._id},t.completed?"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e":"\u041d\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"),o.a.createElement("button",{className:"book__remove",onClick:function(e){var n;a((n=t._id,function(e){h.a.post("/api/book/d",{_id:n}).then((function(t){return e(p(t.data))})).catch((function(e){return console.log(e)}))}))}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement(l.b,{to:"/change/"+t._id,className:"book__remove"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))},k=function(){var e=Object(i.c)((function(e){return e.book})).books;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"w-75 mx-auto"},e.map((function(e,t){return o.a.createElement(v,{key:t,book:e})})),!e.length&&o.a.createElement("p",null,"Books not found")))},N=function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"mt-3 text-center"},"Books"),o.a.createElement(k,null))},O=a(21),g=function(e){var t=Object(i.b)(),a=Object(O.a)(),n=a.register,r=a.handleSubmit,c=(a.watch,a.errors);return o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"mt-3 text-center"},"Add Book"),o.a.createElement("form",{onSubmit:r((function(a){t(function(e){return function(t){h.a.post("/api/book/add",e).then((function(e){return t(p(e.data))})).catch((function(e){return console.log(e)}))}}(a)),e.history.push("/")})),className:"w-50 mx-auto"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{forhtml:"author"},"Author"),o.a.createElement("input",{className:"form-control",id:"author",name:"author",ref:n({required:!0})}),c.author&&o.a.createElement("span",null,"This field is required")),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{forhtml:"title"},"Book Title"),o.a.createElement("input",{className:"form-control",name:"title",id:"title",ref:n({required:!0})}),c.title&&o.a.createElement("span",null,"This field is required")),o.a.createElement("button",{className:"btn btn-success"},"Add")))},_=a(18),j=function(){return o.a.createElement("div",{className:"lds-ripple"},o.a.createElement("div",null),o.a.createElement("div",null))},x=function(e){var t=e.match.params.id,a=Object(i.c)((function(e){return e.book})).books.find((function(e){return e._id===t})),n=Object(i.b)(),r=Object(O.a)(),c=r.register,l=r.handleSubmit,s=r.errors;return a?o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"mt-3 text-center"},"Add Book"),o.a.createElement("form",{onSubmit:l((function(t){var o=Object(_.a)({},a,{},t);n(function(e){return function(t){h.a.post("/api/book/u",e).then((function(e){return t(p(e.data))})).catch((function(e){return console.log(e)}))}}(o)),e.history.push("/")})),className:"w-50 mx-auto"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{forhtml:"author"},"Author"),o.a.createElement("input",{className:"form-control",defaultValue:a.author,id:"author",name:"author",ref:c({required:!0})}),s.author&&o.a.createElement("span",null,"This field is required")),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{forhtml:"title"},"Book Title"),o.a.createElement("input",{className:"form-control",name:"title",defaultValue:a.title,id:"title",ref:c({required:!0})}),s.title&&o.a.createElement("span",null,"This field is required")),o.a.createElement("button",{className:"btn btn-success"},"Save"))):o.a.createElement(j,null)},w=function(){return o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",component:N}),o.a.createElement(u.b,{exact:!0,path:"/add",component:g}),o.a.createElement(u.b,{exact:!0,path:"/change/:id",component:x}),o.a.createElement(u.a,{to:"/"}))},y=(a(69),a(70),a(71),function(){var e=w(),t=Object(i.c)((function(e){return e.book})).loadings,a=Object(i.b)();return Object(n.useEffect)((function(){a(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(E(!0)),h.a.get("/api/books").then((function(e){t(p(e.data)),t(E(!1))})).catch((function(e){console.log(e),t(E(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),o.a.createElement("div",{className:"container"},o.a.createElement(s,null),!t.books&&e,t.books&&o.a.createElement(j,null))}),S=a(12),B=a(3),T={books:[],loadings:{books:!1}};var q=Object(S.combineReducers)({book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(_.a)({},e,{books:Object(B.a)(t.payload)});case"SET_BOOKS_LOADING":return e.loadings.books=t.payload,Object(_.a)({},e);default:return e}}}),A=a(38),C=a(39),K=Object(S.createStore)(q,Object(C.composeWithDevTools)(Object(S.applyMiddleware)(A.a)));c.a.render(o.a.createElement(i.a,{store:K},o.a.createElement(l.a,null,o.a.createElement(y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.b8b1ae6d.chunk.js.map